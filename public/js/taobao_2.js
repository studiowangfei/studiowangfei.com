function initialize(){function e(e){return function(){var o=new google.maps.LatLng(w,h),l='<div class="taobao_map_infowindow">'+buyers[e].淘宝村+" -----> "+buyers[e].买家所在省+buyers[e].买家所在城市+" (Transaction Index: "+buyers[e].包裹数+" )";T=new google.maps.InfoWindow({position:o,content:l,disableAutoPan:!1}),C&&C.close(),C=T,T.open(s,b[e])}}function o(e){w=e.lat(),w=w.toFixed(4),h=e.lng(),h=h.toFixed(4)}function l(e){var o,l=0;window.setInterval(function(){var a=L[e].get("icon");o=25*double_11[e]["Hour_"+l],l+=1,23>l?(a.scale=o,L[e].set("icon",a)):l=0},200)}function a(e){return function(){var o='<div class="taobao_map_infowindow"><div id="village_name">'+double_11[e].village+'</div><div class="village_province">Province: '+double_11[e].province+'</div><div class="village_number">Taobao store number: '+double_11[e].storeNumber+'</div><div class="village_description"></div>';k=new google.maps.InfoWindow({content:o,disableAutoPan:!1}),k.open(g,L[e])}}function t(){return function(){k.close()}}var i=[{featureType:"water",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#000000"},{saturation:0},{lightness:20}]},{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#000000"},{lightness:0}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"},{color:"#000000"},{hue:"#000000"},{lightness:50}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"on"},{color:"#000000"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#000000"},{saturation:0}]},{featureType:"administrative.province",elementType:"labels",stylers:[{visibility:"on"},{color:"#b0b0b0"},{weight:.1}]},{featureType:"administrative.province",elementType:"geometry",stylers:[{visibility:"on"},{color:"#e3e3e3"},{weight:.5}]},{featureType:"administrative.locality",elementType:"all",stylers:[{visibility:"on"},{color:"#a8a8a8"},{weight:.1}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"on"},{color:"#000000"},{weight:.5}]}],n=new google.maps.StyledMapType(i,{name:"Taobao Village Demo"}),r={zoom:5,center:new google.maps.LatLng(32.517768,113.240538),disableDefaultUI:!0,streetViewControl:!1,zoomControl:!0,panControl:!0,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},s=new google.maps.Map(document.getElementById("taobao_map_canvas_1"),r),g=new google.maps.Map(document.getElementById("taobao_map_canvas_2"),r);s.mapTypes.set("map_style",n),s.setMapTypeId("map_style"),g.mapTypes.set("map_style",n),g.setMapTypeId("map_style");for(var p=[],u=0;u<buyers.length;u++){var y=new google.maps.LatLng(buyers[u].buyerLatitude,buyers[u].buyerLongitude);p[u]=new google.maps.Marker({position:y,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#d3d3d3",fillOpacity:.75,scale:3*buyers[u].包裹数,strokeColor:"white",strokeWeight:0},draggable:!1,map:s}),p[u]=new google.maps.Marker({position:y,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"#e3e3e3",fillOpacity:0,scale:3*buyers[u].包裹数,strokeColor:"white",strokeWeight:0,zIndex:-99},draggable:!1,map:g})}for(var d=[],u=0;u<village.length;u++){var m=new google.maps.LatLng(village[u].latitude,village[u].longitude);d[u]=new google.maps.Marker({position:m,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:"blue",fillOpacity:.75,scale:.5*village[u].sqrtNumber,strokeColor:"white",strokeWeight:0},draggable:!1,map:s})}for(var b=[],u=0;u<buyers.length;u++){var v,c,f,_=[new google.maps.LatLng(buyers[u].buyerLatitude,buyers[u].buyerLongitude),new google.maps.LatLng(buyers[u].sellerLatitude,buyers[u].sellerLongitude)];"军埔村"===buyers[u].淘宝村?(v="#00933C",c=.5,f=1):"灶美村"===buyers[u].淘宝村?(v="#007AF2",c=.5,f=1):"青岩刘村"===buyers[u].淘宝村?(v="#FCCC0A",c=.5,f=3):"湾头村"===buyers[u].淘宝村?(v="#EE352E",c=.5,f=2):"白牛村"===buyers[u].淘宝村&&(v="#ff00ff",c=.5,f=4),b[u]=new google.maps.Polyline({path:_,geodesic:!0,strokeColor:v,strokeOpacity:.65,strokeWeight:3*buyers[u].包裹数,zIndex:f}),b[u].setMap(s)}for(var w,h,T,C=!1,u=0;u<buyers.length;u++)b[u].addListener("mouseover",e(u));google.maps.event.addListener(s,"mousemove",function(e){o(e.latLng)});for(var L=[],u=0;u<double_11.length;u++){var I,m=new google.maps.LatLng(double_11[u].latitude,double_11[u].longitude);"里仁洞村"===double_11[u].village?I="#2850AD":"顾家村"===double_11[u].village?I="#6E3219":"湾头村"===double_11[u].village?I="#00933C":"军埔村"===double_11[u].village?I="#FF6319":"白牛村"===double_11[u].village?I="#6CBE45":"东风村"===double_11[u].village?I="#996633":"堰下村"===double_11[u].village?I="#FCCC0A":"灶美村"===double_11[u].village?I="#EE352E":"北山村"===double_11[u].village?I="#B933AD":"西岙村"===double_11[u].village&&(I="#00A1DE"),L[u]=new google.maps.Marker({position:m,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:I,fillOpacity:.75,scale:25*double_11[u].Hour_0,strokeColor:"white",strokeWeight:.5,zIndex:2},draggable:!1,map:g}),l(u)}for(var k,u=0;u<double_11.length;u++)L[u].addListener("mouseover",a(u)),L[u].addListener("mouseout",t())}$(document).ready(function(){function e(){var e=$("#taobao_map_canvas_1").width();$("#taobao_map_canvas_1").css("height",.67*e+"px")}$(window).resize(function(){e()}),e()}),google.maps.event.addDomListener(window,"load",initialize);