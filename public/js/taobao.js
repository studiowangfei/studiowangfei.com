$(document).ready(function(){function o(){function o(o,a,t){for(var e=1;e<o.length;e++){var i=1.5*$("#taobao_poker_small_0").width();$("#taobao_poker_small_"+o[e]).css("top",1.5*(o[0]-108-t)*i+"px"),5>e&&$("#taobao_poker_small_"+o[e]).css("left",a-3-4*(o[0]-108)-12*(e-1)+"%"),e>4&&9>e&&$("#taobao_poker_small_"+o[e]).css("left",a-3-4*(o[0]-108)+11-12*(e-5)+"%"),e>8&&13>e&&$("#taobao_poker_small_"+o[e]).css("left",a-3-4*(o[0]-108)+22-12*(e-9)+"%"),e>12&&$("#taobao_poker_small_"+o[e]).css("left",a-3-4*(o[0]-108)+33-12*(e-13)+"%")}}$(".movetop").css("transition","top 0.3s, left 0.3s").css("margin-right","-7%");for(var a=0;a<f.length;a++){var t=1.5*$("#taobao_poker_small_0").width();$("#taobao_poker_small_"+f[a]).css("top",-1.5*t+"px"),2>a&&$("#taobao_poker_small_"+f[a]).css("left","12%"),a>1&&$("#taobao_poker_small_"+f[a]).css("left",34-12*(a-1)+"%")}for(var a=0;a<k.length;a++){var t=1.5*$("#taobao_poker_small_0").width();$("#taobao_poker_small_"+k[a]).css("top",-3*t+"px"),2>a&&$("#taobao_poker_small_"+k[a]).css("left","65%"),a>1&&$("#taobao_poker_small_"+k[a]).css("left",87-12*(a-1)+"%")}o(d,0,0),o(b,0,0),o(u,0,0),o(g,53,1),o(m,53,1),o(h,53,1)}function a(o,a){return function(){$(".movetop").css("transition","top 0s, left 0s");var t=document.getElementById("taobao_poker_small_"+o),e=t.offsetTop;$("#taobao_poker_small_"+o).css("top",e+a+"px")}}function t(o,a,t){for(var e=o;a>e;e++)$(".shuffle_"+t).append('<img id="shuffle_front_'+e+'" src="../img/project/taobao/poker/small/'+y[e]+'.png"/><img class="poker_back_cover" id="shuffle_back_'+e+'" src="../img/project/taobao/poker/small/back_e.png"/>'),$("#shuffle_front_"+e).css("margin-right","-16%")}function e(o){$("#shuffle_back_"+o).click(function(){$(this).css("opacity","0")}),$("#shuffle_front_"+o).click(function(){$("#shuffle_back_"+o).css("opacity","0")})}function i(o){return e(o)}function r(o){var a=$("#shuffle_front_"+o),t=$("#shuffle_back_"+o),e=y[o];a.attr("src","../img/project/taobao/poker/small/"+e+".png"),a.data("poker-id",e),t.data("poker-id",e)}function s(o,a,t){$(t).mouseenter(function(){for(var t=o;a>t;t++)$("#shuffle_front_"+t).css("top","-48px")}),$(t).mouseleave(function(){for(var t=o;a>t;t++)$("#shuffle_front_"+t).css("top","0px")}),$(t).click(function(){for(var t=o;a>t;t++)$("#shuffle_back_"+t).css("opacity",0)})}function _(o,a){function t(){var o=$(window).height(),a=$(".taobao_slide").height();o-a>0?$(".taobao_slide").css("margin-top",.5*(o-a)+"px"):$(".taobao_slide").css("margin-top",0)}I=o;var e=$(a.target).data("poker-id");T=o.indexOf(e),$("body, html").css("overflow","hidden"),$(".taobao_slide_img img").hide(),$(".taobao_slide_container").show(),$("#taobao_poker_big_"+e).fadeIn("slow"),t(),$(window).resize(function(){var o=$(window).height(),a=$(".taobao_slide").height();o-a>0?$(".taobao_slide").css("margin-top",.5*(o-a)+"px"):$(".taobao_slide").css("margin-top",0)});var i=$(".taobao_slide").width();$("#taobao_arrow_right").css("margin-left",i-12+"px"),$(window).resize(function(){var o=$(".taobao_slide").width();$("#taobao_arrow_right").css("margin-left",o-12+"px")})}function l(){0===T?(T=107,$(".taobao_slide_img img").hide(),$("#taobao_poker_big_"+I[T]).fadeIn()):(T--,$(".taobao_slide_img img").hide(),$("#taobao_poker_big_"+I[T]).fadeIn("slow"))}function n(){107===T?(T=0,$(".taobao_slide_img img").hide(),$("#taobao_poker_big_"+I[T]).fadeIn()):(T++,$(".taobao_slide_img img").hide(),$("#taobao_poker_big_"+I[T]).fadeIn("slow"))}for(var c=0;108>c;c++){54>c?$(".taobao_items_1").append('<div class="movetop" id="taobao_poker_small_'+c+'"></div>'):$(".taobao_items_2").append('<div class="movetop" id="taobao_poker_small_'+c+'"></div>');var p=$(".movetop").width();$(".movetop").css("height",1.5*p+"px"),$("#taobao_poker_small_"+c).css("background-image",'url("../img/project/taobao/poker/taobao_sprite.png")').css("-webkit-background-size","10800% 100%").css("background-repeat","no-repeat").css("background-position",.9345*c+"% 0%")}$(window).resize(function(){var o=$(".movetop").width();$(".movetop").css("height",1.5*o+"px")});var f=[0,1,2,15,28,41],d=[108,3,16,29,42,4,17,30,43,5,18,31,44,6,19,32,45],b=[109,7,20,33,46,8,21,34,47,9,22,35,48,10,23,36,49],u=[110,11,24,37,50,12,25,38,51,13,26,39,52,14,27,40,53],k=[54,55,56,69,82,95],g=[108,57,70,83,96,58,71,84,97,59,72,85,98,60,73,86,99],m=[109,61,74,87,100,62,75,88,101,63,76,89,102,64,77,90,103],h=[110,65,78,91,104,66,79,92,105,67,80,93,106,68,81,94,107];$("#taobao_sort").click(function(){o(),$(".poker_title").fadeIn("slow"),$(window).resize(function(){var a=$("#taobao_poker_small_0").css("top");return"0px"===a?!1:void o()})}),$("#taobao_reset").click(function(){$(".movetop").css("transition","top 0.3s, left 0.3s"),$(".poker_title").fadeOut("slow");for(var o=0;108>o;o++)$("#taobao_poker_small_"+o).css("left","0px").css("top","0px").css("margin-right","-6.265%")});for(var c=0;108>c;c++)$("#taobao_poker_small_"+c).mouseenter(a(c,-48)),$("#taobao_poker_small_"+c).mouseleave(a(c,48));for(var v=["","Bottom-Up","Alibaba","","","Top-Down","Party Policy","","Logistics","Taobao Village","Propaganda","Taobao Store","Urbanization","City","Great Leap Forward","Statistics","Taobao Store","Transaction Map","Transaction Map","Taobao Store Owner","New Village House","House Plan","House Facade","New Village Planning","Taobao Store Owner","Delivery","Taobao Industrial Chain","Taobao Industrial Chain","New Village Planning","New Socialist Countryside","New Socialist Countryside","Young Migrant Worker"],c=0;4>c;c++)$(".poker_title").append('<div class="poker_row" id="row_'+c+'"><div class="row_'+c+'_left"><p id="title_'+8*c+'"></p><p id="title_'+(8*c+1)+'"></p><p id="title_'+(8*c+2)+'"></p><p id="title_'+(8*c+3)+'"></p></div><div class="row_'+c+'_right"><p id="title_'+(8*c+4)+'"></p><p id="title_'+(8*c+5)+'"></p><p id="title_'+(8*c+6)+'"></p><p id="title_'+(8*c+7)+'"></p></div></div>');for(var c=0;32>c;c++)0===c||3===c||4===c||7===c||$("#title_"+c).append(v[c]);for(var w=[],c=0;108>c;c++)w.push(c);for(var y=[],c=0;108>c;c++)y.push(c);y.sort(function(){return.5-Math.random()}),t(0,27,"top"),t(27,54,"right"),t(54,81,"bottom"),t(81,108,"left"),function(){for(var o=0;108>o;o++){$("#shuffle_back_"+o).click(_.bind(null,y)).click(i(o)),$("#shuffle_front_"+o).click(_.bind(null,y)).click(i(o));var a=$("#shuffle_front_"+o),t=$("#shuffle_back_"+o),e=y[o];a.data("poker-id",e),t.data("poker-id",e)}}(),$("#taobao_showdown").click(function(){for(var o=0;108>o;o++)$("#shuffle_back_"+o).css("opacity","0")}),$("#taobao_shuffle").click(function(){y.sort(function(){return.5-Math.random()});for(var o=0;108>o;o++)$("#shuffle_back_"+o).css("opacity",1),$("#shuffle_front_"+o).fadeOut("slow").delay(800).queue(r.bind(null,o)).dequeue().fadeIn("slow")}),s(0,27,"#poker_taobao"),s(27,54,"#poker_buyer"),s(54,81,"#poker_party"),s(81,108,"#poker_seller"),$(window).scroll(function(){var o=$(window).scrollTop(),a=$(".taobao_poker").height();o>2760&&3340+a>o?$(".taobao_trigger_1").fadeIn("slow"):$(".taobao_trigger_1").fadeOut("slow"),o>3340+a&&4440+a>o?$(".taobao_trigger_2").fadeIn("slow"):$(".taobao_trigger_2").fadeOut("slow")});for(var x=0;108>x;x++)$(".taobao_slide_img").append('<img id="taobao_poker_big_'+x+'" src="../img/project/taobao/poker/big/'+x+'.png"/>');for(var I,T=0,c=0;108>c;c++){$("#taobao_poker_small_"+c).click(_.bind(null,w));var O=$("#taobao_poker_small_"+c),S=w[c];O.data("poker-id",S)}$("#taobao_arrow_left").click(l),$("#taobao_arrow_right").click(n),$(document).keyup(function(o){27==o.keyCode&&$(".taobao_slide_container").hide()}),$(".taobao_close").click(function(){$("body, html").css("overflow","auto"),$(".taobao_slide_container").hide()})});
